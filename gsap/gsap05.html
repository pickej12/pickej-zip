<!DOCTYPE html>
<html lang="ko">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GSAP_나타나기 효과</title>

<link rel="stylesheet" href="./assets/css/common.css">
<link rel="stylesheet" href="./assets/css/__cont2.css">

<!-- Font  -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<!-- GSAP -->
<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollToPlugin.min.js"></script>

<script src="../src/jquery-1.12.4.min.js"></script>
    
<!-- gsap05 CSS -->
<style>
    body {
        overflow-x:hidden;
    }
</style>
</head>
<body>
    <header class="main_visual">
        <h1>GSAP Parallax Effect</h1>
        <p>GSAP scrollTrigger Effect</p>

        <div class="ul_wrap">
            <ul>
                <li class=""><a href="gsap01.html">01_기본Ani</a></li>
                <li class=""><a href="gsap02.html">02_Pin Ani</a></li>
                <li class=""><a href="gsap03.html">03_Pin 배경 고정</a></li>
            </ul>
            <ul>
                <li class=""><a href="gsap04.html">04_이질감 효과</a></li>
                <li class="active"><a href="#!">05_나타내기 효과</a></li>
                <li class=""><a href="gsap06.html">06_텍스트 효과</a></li>
            </ul>
            <ul>
                <li class=""><a href="gsap07.html">07_배경색 효과</a></li>
                <li class=""><a href="gsap08.html">08_진행바 효과</a></li>
                <li class=""><a href="gsap09.html">09_메뉴 이동 효과</a></li>
            </ul>
            <ul>
                <li class=""><a href="gsap10.html">10_메뉴 축소 효과</a></li>
                <li class=""><a href="gsap11.html">11_메뉴 숨기기 효과</a></li>
                <li class=""><a href="gsap12.html">12_가로 효과</a></li>
            </ul>
            <ul>
                <li class=""><a href="gsap13.html">13_가로/세로 효과</a></li>
                <li class=""><a href="gsap14.html">14_가로/세로 나타나기 효과</a></li>
                <li class=""><a href="gsap15.html">15_스무스 효과</a></li>
            </ul>
        </div>
    </header>

    <main id="parallax__cont">
        <section id="section01" class="parallax__item">
            <span class="parallax__item__num">01</span>
            <h2 class="parallax__item__title">section1</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal">Lorem Ipsum is simply dummy text.</p>
        </section>
        <!-- //section1 -->

        <section id="section02" class="parallax__item">
            <span class="parallax__item__num">02</span>
            <h2 class="parallax__item__title">section2</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal_LTR">Lorem Ipsum has been the industry's standard dummy text.</p>
        </section>
        <!-- //section2 -->

        <section id="section03" class="parallax__item">
            <span class="parallax__item__num">03</span>
            <h2 class="parallax__item__title">section3</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal_TTB">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        </section>
        <!-- //section3 -->

        <section id="section04" class="parallax__item">
            <span class="parallax__item__num">04</span>
            <h2 class="parallax__item__title">section4</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal_LTR">Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
        </section>
        <!-- //section4 -->

        <section id="section05" class="parallax__item">
            <span class="parallax__item__num">05</span>
            <h2 class="parallax__item__title">section5</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal_BTT">When an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>
        </section>
        <!-- //section5 -->

        <section id="section06" class="parallax__item">
            <span class="parallax__item__num">06</span>
            <h2 class="parallax__item__title">section6</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal_TTB">Lorem Ipsum is simply dummy text.</p>
        </section>
        <!-- //section6 -->

        <section id="section07" class="parallax__item">
            <span class="parallax__item__num">07</span>
            <h2 class="parallax__item__title">section7</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal">Lorem Ipsum has been the industry's standard dummy text.</p>
        </section>
        <!-- //section7 -->

        <section id="section08" class="parallax__item">
            <span class="parallax__item__num">08</span>
            <h2 class="parallax__item__title">section8</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal_LTR">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        </section>
        <!-- //section8 -->

        <section id="section09" class="parallax__item">
            <span class="parallax__item__num">09</span>
            <h2 class="parallax__item__title">section9</h2>
            <figure class="parallax__item__imgWrap">
                <div class="parallax__item__img"></div>
            </figure>
            <p class="parallax__item__desc reveal">Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.</p>
        </section>
        <!-- //section9 -->
    </main>
    
    <script>
        //01. 나타나기
        // gsap.utils.toArray(".parallax__item__desc").forEach((item) => {
        //     ScrollTrigger.create({
        //         trigger: item,
        //         start: "top 80%",
        //         end: "bottom 20%",
        //         markers: true,
        //         onEnter: () => {animate(item)}, 
        //     });

        //     item.style.opacity = "0";
        // });

        // const animate = (item) => {
        //     gsap.fromTo(item, 
        //         {autoAlpha: 0, x: 100, y: 0}, 
        //         {autoAlpha: 1, x: 0, y: 0, duration: 1.25, overwrite: "auto", ease: "expo"}
        //     );
        // }
        
        // gsap타겟('각각의 .parallax__item__desc')의 윗부분이 화면의 80%에 닿으면 인터렉션 시작.
        // gsap타겟의 하단부분이 화면의 20%에 닿으면 인터렉션 종료
        // 우->좌로 나타남


        // ---------------------------------------------------------------------------------------------------------
        
        
        //02. 클래스 이름으로 클래스별 설정
        gsap.utils.toArray(".parallax__item__desc").forEach((item) => {
            ScrollTrigger.create({
                trigger: item,
                start: "top 80%",
                end: "bottom 20%",
                markers: true,
                onEnter: () => {animate(item)}, 
            });

            item.style.opacity = "0";
        });

        const animate=(item)=>{
            // classList.contains = 해당 요소에 특정 클래스가 포함되어 있는지!
            // contains는 단독 사용X, 클래스나 돔 구조를 기준으로 포함 여부 확인 (classList.contains()/Node.contains())

            let x=0;
            let y=0;
            
            if(item.classList.contains("reveal_LTR")){
                x=-100;
                y=0;
            }else if(item.classList.contains("reveal_BTT")){
                x=0;
                y=100;
            }else if(item.classList.contains("reveal_TTB")){
                x=0;
                y=-100;
            }else{
                x=100;
                y=0;
            }
            
            gsap.fromTo(item, 
                {autoAlpha: 0, x:x, y:y}, 
                {autoAlpha: 1, x:0, y:0, duration: 1.25, overwrite: "auto", ease: "expo"}
            );
        }
    </script>
</body>
</html>